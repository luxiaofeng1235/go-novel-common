server:
  env: prod
  debug: true
  host: 0.0.0.0
  port: 8006
  adminUrl: http://127.0.0.1 #兼容字段（建议使用 admin.adminUrl）
  downUrl: http://127.0.0.1 #对外提供给市场和业务专员的域名

admin:
  host: 0.0.0.0
  port: 8005
  adminUrl: http://127.0.0.1 #后台静态资源域名（如后台上传图片）

api:
  encrypt: false
  apiUrl: http://127.0.0.1 #API 对外域名（用于拼接文件 URL 等）

source:
  host: 0.0.0.0
  port: 8007
  apiUrl: http://127.0.0.1 #静态服务对外域名（拼接上传文件 URL）
  # 可选：显式指定静态资源访问域名（优先级最高），如 http://127.0.0.1:8007
  publicBaseUrl: ""

# casbin 配置
casbin:
  modelFile: ./public/casbin_conf/rbac_model.conf
  policyFile: ./public/casbin_conf/rbac_policy.csv

adminInfo:
  notCheckAuthAdminIds: [1] #无需验证后台权限的用户id
  pageNum: 10 #后台列表分页长度
  dataDir: "./public/data" #数据目录

jwt:
  secret: 6fdfff3591fbea8e84a936d8ec62157f

auth:
  # 账号密码的 md5 盐（可留空）；设置后为 md5(md5(passwd)+salt)
  passwordSalt: ""

mysql:
  host: "127.0.0.1"
  port: 3306
  database: "novel"
  user: "root"
  password: "root"
  params: "charset=utf8mb4&parseTime=True&loc=Local"
  pool:
    # 最大空闲连接数（按业务规模调整）
    maxIdleConns: 25
    # 最大打开连接数（按业务规模调整，避免打爆 MySQL）
    maxOpenConns: 100
    # 连接最大复用时间（秒）
    connMaxLifetimeSeconds: 600
    # 连接最大空闲时间（秒，0 表示不设置）
    connMaxIdleTimeSeconds: 300

redis:
  host: "127.0.0.1"
  port: 6379
  password: ""
  db: 0

logs:
  # 日志等级(-1:Debug, 0:Info, 1:Warn, 2:Error, 3:DPanic, 4:Panic, 5:Fatal, -1<=level<=5, 参照zap.level源码)
  level: -1
  # 日志路径
  path: logs
  # 文件最大大小, M
  max-size: 50
  # 备份数
  max-backups: 100
  # 存放时间, 天
  max-age: 30
  # 是否压缩
  compress: false
